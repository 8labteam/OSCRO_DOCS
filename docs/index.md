# 产品介绍

## 产品概述

**OSCRO**是一款以围绕serverless为核心通过自研和集成云原生而构建的通用性开源 PaaS 云管理平台。经过我们内部近一年的持续迭代，当前 **OSCRO** 的核心功能已经初步具备多项目场景下的统一管理。页面并集成了应用的快速创建及应用流水线。

作为一个serverless架构云平台，**OCSRO** 从立项开始就把以应用为中心场景下的多项目作为其主要实现设计目标。用户可以对接入平台的 Kubernetes 集群做自定义资源规划。除此之外，我们提供了比原生 Dashboard 功能更加丰富且人性化操作的 UI 界面，让用户/企业根据自身场景规划平台元数据，而不用担心自己的业务和数据出现错乱。同时OSCRO 也提供过了众多丰富的功能模块来为个人或企业用户带来更好的使用体验，例如 *访问控制、资源规划、网络隔离、容器管理、存储卷、监控系统、用户审计* 等功能。

## 产品架构

![](.\images\35.png)

## 产品功能

### 集群管理与资源管理



云平台提供了多维度的集群资源管理配置功能：

- **资源超分：** 支持 Kubernetes 集群资源超分规划，更好的提高集群资源使用率，降低IT成本；
- **资源管理：** 支持对项目名称空间内的资源进行扩容、监控等管理；
- **细粒度资源控制：** 基于 ResouceQuota 和 LimitRange 对用户环境空间内各应用进行细粒度资源的控制；
- **灵活分配：** 项目管理员可对不同项目不同命名空间进行动态资源划分；

### 应用管理

应用中心针对不同用户的需求，提供了可以应用模组管理自定义模组，开发或测试人员即拿即用，做到可快速部署启动应用；根据模组的创建应用编排，用户可在平台界面上，填写相应的信息就可以创建出自己的应用；

**开发环境**

开发人员可以自主创建容器快速进行运行服务代码，大大减少开发人员去申请资源成本，从此也规避了开发环境与生产环境基础服务或资源不符，产生的服务故障问题；

### 容器管理

### 流水线管理



基于CRD方式实现让用户以灵活的自定义流水线以满足自身 CI/CD 需求；平台也提供了即用的流水线，填写相应的信息就可实现持续集成或持续部署。

- **可重复使用**：定义好的流水线，可直接用作流水线编排进行使用；
- **标准化**：完全基于kubernetes的安装与运行，所有的工作全部在kubernetes内部工作；
- **基于应用**：可基于现有的应用创建流水线，从而实现快速部署；

### 多项目管理

在 平台中，资源（例如集群）可以在项目之间共享。超级管理员或项目管理员掌握不同的用户角色的权限设置。普通用户在环境空间对各种计算资源进行操作。基础设施层上的计算资源由 **超级管理员** 集中管理和分配，由于平台在项目命名空间层面实现了资源的隔离，因此用户不必担心计算资源分配额度以及资源竞争问题。其主要功能如下：

- **角色身份：** 内置多身份类型，平台内用户可按照角色进行授权；
- **成员管理：** 普通用户与项目(空间)，命名(空间) 进行关联，可为空间做精细化的成员管理
- **项目管理**：项目管理员可拥有多个不同的项目，对命名空间做相应管理；

# 使用指南

## 集群资源

**前置条件**

1.  kubernetes集群已就绪
2.  kubeopt服务成功运行

### **新增集群**

- 使用admin账号登录OSCRO云管理平台，集群管理 → 点击【新增】按钮

![](.\images\1.png)

- 填写资源名称：k8s-prod，主机域名：kubeopt对外服务地址端口 ，yaml：填写kubeconfig内容 ，点击【确定】

![](.\images\2.png)

### 资源池管理

- 【资源池管理】→ 【新增】

![](.\images\32.png)

- 选择工作空间、资源，对IP或端口类型进行管理

![](.\images\33.png)

## 平台管理

### 项目管理

#### 工作空间

- 项目管理 → 工作空间 → 点击【新增】按钮

![](.\images\3.png)

- 填写工作空间名称 → 配额上限CPU、MEM → 点击【提交】按钮

![](.\images\4.png)

**资源分配**

- 点击操作••• → 【绑定资源】

![](.\images\7.png)

- 根据已有的选择集群资源，点击【绑定】按钮，工作空间分配资源（配额需小于工作空间限额）

![](.\images\6.png)

#### 名称空间

- 项目管理 → 名称空间 → 点击【新增】按钮

![](.\images\5.png)

- 填写工作空间名称 → 配额上限CPU、MEM → 点击【提交】按钮





### 用户管理

- **角色描述：**

| 角色名称   | 角色权限说明                                                 |
| ---------- | ------------------------------------------------------------ |
| 超级管理员 | 具有平台的所有权限                                           |
| 管理员     | 管理拥有的项目管理能力，无容器管理权限                       |
| 运维工程师 | 具备所属项目的应用管理、容器管理、流水线管理                 |
| 测试工程师 | 具备所属项目的应用管理、容器管理、流水线管理，但不具备工作负载控制器操作和开发环境管理 |
| 开发工程师 | 具备所属项目的应用管理、容器管理、流水线管理，但不具备工作负载控制器操作 |

#### 创建用户

#### 授权用户

- 用户管理 → 用户角色 → 点击【授权用户】按钮

![](.\images\9.png)

- 填写用户名 → 选择角色 → 选择名称空间：工作空间/名称空间 → 点击【确定】按钮

![](.\images\10.png)

### 审计管理

#### 用户审计

- 【审计管理】 → 【用户审计】，可选择时间段、功能模块、用户等进行条件查询

![](.\images\23.png)

## 应用中心

### 应用模板

- 使用admin账号登录OSCRO云管理平台【模板管理】→ 【新增】

![](.\images\24.png)

- 填写模板名称，点击【确认】

![](.\images\25.png)

- 编辑YAML

![](.\images\26.png)

- 编辑YAML模板 → 【保存】

![](.\images\27.png)

### 应用模组

### 基础应用

**创建基础应用**

- 应用中心 → 基础应用 → 选择命名空间 → 点击【新增】按钮

![](.\images\11.png)

- 填写基础应用名称 → 点击【确认】按钮

![](.\images\12.png)

**添加YAML**

- 点击操作••• → 创建YAML

![](.\images\13.png)

- 填写yaml名称 → 选择基础模板类型（deployment|service|configmap） → 点击【确定】

![](.\images\14.png)

**自定义基础应用YAML**

- 点击操作••• → 查看YAML → 点击小眼睛查看yaml

![](.\images\16.png)

### 生成应用

**基于应用模板生成应用**

- 点击操作••• → 生成应用 → 点击运行态配置项【VALUE】→ 填写YAML名称、镜像地址、容器名称、资源配额信息 → 点击【保存】

![](.\images\17.png)

- 左侧栏点击应用管理查看当前存在应用，选择命名空间，点击操作••• → 运行应用 → 点击【确认】

![](.\images\20.png)

## 容器管理

### 工作负载

#### 查看容器日志

- 容器管理进入【工作负载】→ 【容器组】 → 选择相应命名空间 → 点击右侧操作•••菜单

![](.\images\18.png)

- 点击【日志】按钮，弹出容器日志窗口

![](.\images\19.png)

#### 进入容器终端

- 点击相应容器组进入 → 【容器组】→ 点击操作控制台按钮

![](.\images\21.png)

#### 查看容器监控

- 点击相应容器组进入 → 【监控】→ 点击操作控制台按钮

![](.\images\22.png)	

## Devops管理

### 创建流水线

- 【流水线管理】→ 【流水线】→ 【新增】

![](.\images\28.png)

- 按照输入框说明进行填写，更新容器镜像相当于持续部署，绑定现有容器或自动构建

![](.\images\29.png)

### 执行记录

- 【流水线管理】 → 【执行记录】→ 点击相应记录可查看详细执行日志

![](.\images\30.png)

![](.\images\31.png)